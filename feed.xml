<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://zihaofu245.me/feed.xml" rel="self" type="application/atom+xml" /><link href="https://zihaofu245.me/" rel="alternate" type="text/html" /><updated>2026-01-30T00:17:07+00:00</updated><id>https://zihaofu245.me/feed.xml</id><title type="html">Zihao’s Portfolio</title><subtitle>Engineer &amp; Computer Science student. Personal website, CV, and projects.</subtitle><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><entry><title type="html">Tech I’ve picked up this winter</title><link href="https://zihaofu245.me/general/2026/01/30/newStuffLearned.html" rel="alternate" type="text/html" title="Tech I’ve picked up this winter" /><published>2026-01-30T00:00:00+00:00</published><updated>2026-01-30T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2026/01/30/newStuffLearned</id><content type="html" xml:base="https://zihaofu245.me/general/2026/01/30/newStuffLearned.html"><![CDATA[<p>Lots of fun, and lots of self-hosting projects! I’ve now abandoned Windows entirely; all of my devices
are running Ubuntu or Debian.</p>

<p><em>My Ubuntu Desktop</em>
<img src="/assets/2026-1-28-resources/myUbuntuDesktop.avif" alt="My Ubuntu Desktop" /></p>

<h2 id="intro">Intro</h2>

<p>During this winter, I have picked up lots of new stuff.</p>

<p>Firewalls that filter outbound connections are annoying, and I hated them. There are technologies
that can help bypass these restrictions: a proxy or a virtual private network (VPN).
I used to use a commercial VPN, but I no longer trusted it. The VPN provider can act as a man-in-the-middle,
and they can observe your traffic metadata. If it is unencrypted (HTTP), they can see the
content you are sending. For HTTPS, it’s better, but they can still log your information: what websites you visit, and how much data is transferred.
Therefore, I decided to set up my own solution.
The main motivation is that this used to be a black box to me, and I started to worry about my privacy.</p>

<p>On my way to seeking freedom and privacy, I picked up lots of network- and Linux-related knowledge.</p>

<h3 id="jumping">Jumping</h3>

<ul>
  <li><a href="#rustdesk"><strong>RustDesk</strong></a></li>
  <li><a href="#nginx"><strong>Nginx</strong></a></li>
  <li><a href="#home-server"><strong>Home Server</strong></a></li>
  <li><a href="#protocols"><strong>Experience different proxy protocols</strong></a></li>
  <li><a href="#reverse-shell"><strong>Reverse Shell</strong></a></li>
</ul>

<h2 id="rustdesk">RustDesk OSS</h2>

<p>When I was back at King’s College, we all needed to use Chromebooks. Chrome OS is a very secure operating system due to its nature: only web apps can be installed, and malware has little chance to survive.
ChromeOS settings can also be easily managed by the school. They can configure your browser settings and even prevent you from entering the bootloader. (You can’t enter the bootloader and flash another operating system.)
The rules back in 2022 were already strict, but now their security has gotten even better. JavaScript from <code class="language-plaintext highlighter-rouge">file://</code>
is disabled, according to my friends still at the college. That means drag-and-drop games can’t be played.</p>

<h3 id="some-observations-for-jailbreaker">Some observations for “jailbreaker”</h3>

<ol>
  <li>ChromeOS restricts users to browsers only. You can’t change extensions.</li>
  <li>Hard coded bans. Some websites are banned entirely even if you switch to different networks. This seems like an on-device blocking mechanism.</li>
  <li>Some websites are only banned when connected to school network. Often redirect to a school page that says this
site is not allowed. We can confirm it is DNS-level blocking. Using a direct IP can bypass this blocking. But may face SNI issue.</li>
  <li>The school firewall uses a blacklist to restrict access.</li>
</ol>

<p>From these observations, one possible solution is to use a proxy that can be used in a browser. The first idea I came up with was to write a simple browser in JS with proxy support. This is naïve in hindsight.
The second idea was to use a remote VPS to stream a browser to users. This is extremely slow, needs lots of compute resources, and latency can be high. The second solution was implemented for a few months and reached an “able to use” level, but it was far from pleasant. It was called <strong>neko browser</strong>.</p>

<p>The last idea is <strong>RustDesk</strong>. The server can be self-hosted and open-source, with web client support. I had a public IPv4 from my house in Madrid, and I hosted the server from home; my friends lived in Madrid as well. This
gave them a chance to use their own computers with super low latency. It is by far the best solution. The setup using
Docker is super simple. One thing to note is the web client uses HTTPS; it needs a reverse proxy tool like Nginx to terminate TLS and forward traffic to the RustDesk server.</p>

<p><em>Rustdesk Demo</em>
<img src="/assets/2026-1-28-resources/rustdesk.avif" alt="RustDesk" /></p>

<p>If I don’t host my own relay and use the public one instead, the latency becomes terrible, a nightmare to use. All network packets have to traverse the public relay, and you can really feel the lag.</p>

<h2 id="nginx">Nginx</h2>

<p>Nginx is a powerful tool I’ve been using recently. Many VPN servers use port 443 to camouflage
as normal websites. Nginx can read SNI (Server Name Indication), which lets you proxy different protocols to
different backend servers while only using one port.</p>

<h3 id="a-snippet-from-my-server-setup">A snippet from my server setup</h3>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stream</span> {
  <span class="n">map</span> $<span class="n">ssl_preread_server_name</span> $<span class="n">tcp_backend</span> {
      <span class="n">hostnames</span>;
      <span class="n">manchester</span>.<span class="n">zihaofu245</span>.<span class="n">me</span> <span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">1</span>:<span class="m">1212</span>;  <span class="c"># trojan server
</span>      <span class="n">mirror</span>.<span class="n">zihaofu245</span>.<span class="n">me</span> <span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">1</span>:<span class="m">8443</span>;      <span class="c"># nginx mirror server
</span>      <span class="n">zihaofu245</span>.<span class="n">cloud</span> <span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">1</span>:<span class="m">8443</span>;          <span class="c"># cloud
</span>      <span class="n">default</span> <span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">1</span>:<span class="m">1212</span>;                   <span class="c"># default backend
</span>  }

  <span class="c"># Forward all 443 traffic based on SNI
</span>  <span class="n">server</span> {
      <span class="n">listen</span> <span class="m">443</span>;
      <span class="n">listen</span> [::]:<span class="m">443</span>;
      <span class="n">proxy_pass</span> $<span class="n">tcp_backend</span>;
      <span class="n">ssl_preread</span> <span class="n">on</span>;
  }

  <span class="c"># HTTP3 / QUIC support
</span>  <span class="n">server</span> {
      <span class="n">listen</span> <span class="m">443</span> <span class="n">udp</span>;
      <span class="n">proxy_pass</span> <span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">1</span>:<span class="m">1212</span>;                <span class="c"># Hysteria server
</span>  }
}
</code></pre></div></div>

<p>Before using Nginx, I had to remember different ports for each configuration. Now it’s all on port 443, easier to
remember and better camouflage.</p>

<h2 id="home-server">Raspberry Pi deployed as a server in Madrid</h2>

<p>I brought a Raspberry Pi to Madrid this winter. After requesting a public static IPv4 address,
I made it my home server. I deployed an Nginx server, a RustDesk relay, and many other services.</p>

<p><em>Tiny, yet powerful</em>
<img src="/assets/2026-1-28-resources/homeServer.avif" alt="hs" /></p>

<h2 id="protocols">Other proxy protocols that I have tried besides WireGuard</h2>

<p>Open source stuff that I’ve tried:</p>

<ol>
  <li>Shadowsocks</li>
  <li>Trojan</li>
  <li>Hysteria2</li>
  <li>sing-box</li>
  <li>Lightway (ExpressVPN)</li>
  <li>WireGuard</li>
</ol>

<p>I’ve heard many people say WireGuard is a light and super fast VPN protocol. After my tests,
I don’t think that’s always true. WireGuard uses the ChaCha20-Poly1305 encryption algorithm, a CPU-friendly
choice, but it can be a bottleneck in some cases. Other protocols may rely on the system OpenSSL
shared library. These libraries are highly optimized and native. With AES encryption and
hardware acceleration (AES-NI), performance can surpass WireGuard in some scenarios.</p>

<h2 id="reverse-shell">Reverse Shell</h2>

<blockquote>
  <p><strong>Disclaimer:</strong> This reverse shell project is created strictly for educational and experimental purposes in controlled environments only. I do not condone or take responsibility for any misuse, unauthorized access, or illegal activity resulting from this work.</p>
</blockquote>

<p>A reverse shell is often used as a backdoor; it can bypass firewalls easily. It’s often considered a
harmful tool. Many AI tools aren’t willing to help implement it, so I did some research and implemented
my own version.</p>

<p><a href="/assets/2026-1-28-resources/reverse-shell.tar.xz"><strong>reverse-shell.tar.xz</strong></a></p>

<p>This is cross-platform. TTY works perfectly on Linux; Darwin should behave similarly.
Windows usage is limited: it’s not interactive, only stdio over TCP. The <code class="language-plaintext highlighter-rouge">main.go</code> file is a Windows service,
use <code class="language-plaintext highlighter-rouge">sc.exe</code> to start it.
You’ll likely want to modify the source code
and build it again. As-is, the shell destination points to my server, so don’t run the attached binary unless you understand what it does.</p>

<h2 id="winter-wrap-up-on-jan-30th">Winter wrap-up on Jan 30th</h2>

<p>This winter was fantastic. I left Madrid for a year and a half and finally came back for a visit.
I went to France, Denmark, and Norway, such beautiful places. <a href="/travel/2026/01/15/2026-first-post">Check the photos here.</a>
I learned a lot and had lots of fun. Kicking off 2026 perfectly. Time flies; I’m 15 now.</p>

<blockquote>
  <p>I hate going to school, especially at the end of a holiday.</p>
</blockquote>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="general" /><summary type="html"><![CDATA[Lots of fun, and lots of self-hosting projects! I’ve now abandoned Windows entirely; all of my devices are running Ubuntu or Debian.]]></summary></entry><entry><title type="html">Travel album Jan.2026</title><link href="https://zihaofu245.me/travel/2026/01/15/2026-first-post.html" rel="alternate" type="text/html" title="Travel album Jan.2026" /><published>2026-01-15T00:00:00+00:00</published><updated>2026-01-15T00:00:00+00:00</updated><id>https://zihaofu245.me/travel/2026/01/15/2026-first-post</id><content type="html" xml:base="https://zihaofu245.me/travel/2026/01/15/2026-first-post.html"><![CDATA[<p>Travel blogs during end of 2025 and start of 2026</p>

<!-- markdownlint-disable MD033 -->

<blockquote>
  <p>As I mentioned in the last blog, I will post out some selected photos during my winter holiday.
You can click the photos on the “photo wall” to view the original photos. The photo wall is
refreshed dynamically and there are hundreds of photos, on some old devices it might take some
time for the algorithm.</p>
</blockquote>

<h2 id="nice-monaco-and-nearby-cities">Nice, Monaco and nearby cities</h2>

<blockquote>
  <p>End of 2025. Dec 23 to Dec 25</p>
</blockquote>

<p>The first stop of the trip — a quick photo dump.</p>

<section class="heart-gallery" aria-label="Nice and Monaco photo collage" data-gallery="nice">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/1.avif" aria-label="Open photo 1"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/2.avif" aria-label="Open photo 2"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/3.avif" aria-label="Open photo 3"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/4.avif" aria-label="Open photo 4"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/5.avif" aria-label="Open photo 5"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/6.avif" aria-label="Open photo 6"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/7.avif" aria-label="Open photo 7"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/8.avif" aria-label="Open photo 8"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/9.avif" aria-label="Open photo 9"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/10.avif" aria-label="Open photo 10"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/11.avif" aria-label="Open photo 11"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/12.avif" aria-label="Open photo 12"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/13.avif" aria-label="Open photo 13"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/14.avif" aria-label="Open photo 14"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/15.avif" aria-label="Open photo 15"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/16.avif" aria-label="Open photo 16"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/17.avif" aria-label="Open photo 17"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/18.avif" aria-label="Open photo 18"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/19.avif" aria-label="Open photo 19"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/20.avif" aria-label="Open photo 20"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/21.avif" aria-label="Open photo 21"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/22.avif" aria-label="Open photo 22"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/23.avif" aria-label="Open photo 23"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/24.avif" aria-label="Open photo 24"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/25.avif" aria-label="Open photo 25"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Nice_Monacco/26.avif" aria-label="Open photo 26"></button>
  </div>
</section>

<hr />

<h2 id="copenhagen">Copenhagen</h2>

<blockquote>
  <p>The Denmark part. 1.1 - 1.3</p>
</blockquote>

<p>Copenhagen is greyish and rainy, same climate as UK. The last day in Copenhagen, it snowed! Everything covered in thick snow.</p>

<section class="heart-gallery" aria-label="Copenhagen photo heart collage" data-gallery="copenhagen">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/1.avif" aria-label="Open photo 1"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/2.avif" aria-label="Open photo 2"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/3.avif" aria-label="Open photo 3"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/4.avif" aria-label="Open photo 4"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/5.avif" aria-label="Open photo 5"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/6.avif" aria-label="Open photo 6"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/7.avif" aria-label="Open photo 7"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/8.avif" aria-label="Open photo 8"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/9.avif" aria-label="Open photo 9"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/10.avif" aria-label="Open photo 10"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/11.avif" aria-label="Open photo 11"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/12.avif" aria-label="Open photo 12"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/13.avif" aria-label="Open photo 13"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/14.avif" aria-label="Open photo 14"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/15.avif" aria-label="Open photo 15"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/16.avif" aria-label="Open photo 16"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/17.avif" aria-label="Open photo 17"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/18.avif" aria-label="Open photo 18"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/19.avif" aria-label="Open photo 19"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/20.avif" aria-label="Open photo 20"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/21.avif" aria-label="Open photo 21"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/22.avif" aria-label="Open photo 22"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/23.avif" aria-label="Open photo 23"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/24.avif" aria-label="Open photo 24"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/25.avif" aria-label="Open photo 25"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/26.avif" aria-label="Open photo 26"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/copenhagen/27.avif" aria-label="Open photo 27"></button>
  </div>
</section>

<hr />

<h2 id="oslo">Oslo</h2>

<blockquote>
  <p>Norway begins. 1.3 - 1.5</p>
</blockquote>

<p>Oslo is even more cloudy then copenhagen, quite hard to get beautiful shots</p>

<section class="heart-gallery" aria-label="Oslo photo collage" data-gallery="oslo">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/1.avif" aria-label="Open photo 1"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/2.avif" aria-label="Open photo 2"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/3.avif" aria-label="Open photo 3"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/4.avif" aria-label="Open photo 4"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/5.avif" aria-label="Open photo 5"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/6.avif" aria-label="Open photo 6"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/7.avif" aria-label="Open photo 7"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/8.avif" aria-label="Open photo 8"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/9.avif" aria-label="Open photo 9"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/10.avif" aria-label="Open photo 10"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/11.avif" aria-label="Open photo 11"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/12.avif" aria-label="Open photo 12"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/13.avif" aria-label="Open photo 13"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/14.avif" aria-label="Open photo 14"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/15.avif" aria-label="Open photo 15"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/16.avif" aria-label="Open photo 16"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/17.avif" aria-label="Open photo 17"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/18.avif" aria-label="Open photo 18"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/19.avif" aria-label="Open photo 19"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/20.avif" aria-label="Open photo 20"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/21.avif" aria-label="Open photo 21"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/22.avif" aria-label="Open photo 22"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/23.avif" aria-label="Open photo 23"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/24.avif" aria-label="Open photo 24"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/25.avif" aria-label="Open photo 25"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/26.avif" aria-label="Open photo 26"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/27.avif" aria-label="Open photo 27"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/28.avif" aria-label="Open photo 28"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/29.avif" aria-label="Open photo 29"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/30.avif" aria-label="Open photo 30"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/31.avif" aria-label="Open photo 31"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/32.avif" aria-label="Open photo 32"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/33.avif" aria-label="Open photo 33"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/34.avif" aria-label="Open photo 34"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/35.avif" aria-label="Open photo 35"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/36.avif" aria-label="Open photo 36"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/37.avif" aria-label="Open photo 37"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/38.avif" aria-label="Open photo 38"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Oslo/39.avif" aria-label="Open photo 39"></button>
  </div>
</section>

<hr />

<h2 id="bergen">Bergen</h2>

<blockquote>
  <p>1.5 - 1.6</p>
</blockquote>

<p>Sunset of Bergen on the mountain top is fabulous, some of the best photos since this trip and warmer then Oslo.
The road in city is covered by ice, made it difficult to walk on. A nightmare to climb down the mountain.</p>

<section class="heart-gallery" aria-label="Bergen photo collage" data-gallery="bergen">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/1.avif" aria-label="Open photo 1"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/2.avif" aria-label="Open photo 2"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/3.avif" aria-label="Open photo 3"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/4.avif" aria-label="Open photo 4"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/5.avif" aria-label="Open photo 5"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/6.avif" aria-label="Open photo 6"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/7.avif" aria-label="Open photo 7"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/8.avif" aria-label="Open photo 8"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/9.avif" aria-label="Open photo 9"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/10.avif" aria-label="Open photo 10"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/11.avif" aria-label="Open photo 11"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/12.avif" aria-label="Open photo 12"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/13.avif" aria-label="Open photo 13"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/14.avif" aria-label="Open photo 14"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/15.avif" aria-label="Open photo 15"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/16.avif" aria-label="Open photo 16"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/17.avif" aria-label="Open photo 17"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/18.avif" aria-label="Open photo 18"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/19.avif" aria-label="Open photo 19"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/20.avif" aria-label="Open photo 20"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Bergen/21.avif" aria-label="Open photo 21"></button>
  </div>
</section>

<hr />

<h2 id="tromsø">Tromsø</h2>

<blockquote>
  <p>1.6 - 1.8</p>
</blockquote>

<p><strong>Inside Arctic Circle!</strong><br />
The temperatures are freezing cold! At the first night, I was out to chase northern lights, it went down to about -20.
Though the weather is clear, I did not see any northern lights on Jan 6. But on the 7th, I was lucky to see them. But there are clouds, it wasn’t the best northern lights view, but better then nothing at least.</p>

<section class="heart-gallery" aria-label="Tromso photo collage" data-gallery="tromso">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/1.avif" aria-label="Open photo 1"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/2.avif" aria-label="Open photo 2"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/3.avif" aria-label="Open photo 3"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/4.avif" aria-label="Open photo 4"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/5.avif" aria-label="Open photo 5"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/6.avif" aria-label="Open photo 6"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/7.avif" aria-label="Open photo 7"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/8.avif" aria-label="Open photo 8"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/9.avif" aria-label="Open photo 9"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/10.avif" aria-label="Open photo 10"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/11.avif" aria-label="Open photo 11"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/12.avif" aria-label="Open photo 12"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/13.avif" aria-label="Open photo 13"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/14.avif" aria-label="Open photo 14"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/15.avif" aria-label="Open photo 15"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/16.avif" aria-label="Open photo 16"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/17.avif" aria-label="Open photo 17"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/18.avif" aria-label="Open photo 18"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/19.avif" aria-label="Open photo 19"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/20.avif" aria-label="Open photo 20"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/21.avif" aria-label="Open photo 21"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/22.avif" aria-label="Open photo 22"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/23.avif" aria-label="Open photo 23"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/24.avif" aria-label="Open photo 24"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/25.avif" aria-label="Open photo 25"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/26.avif" aria-label="Open photo 26"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/27.avif" aria-label="Open photo 27"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/28.avif" aria-label="Open photo 28"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/29.avif" aria-label="Open photo 29"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/30.avif" aria-label="Open photo 30"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/31.avif" aria-label="Open photo 31"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/32.avif" aria-label="Open photo 32"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/33.avif" aria-label="Open photo 33"></button>
  </div>
</section>

<section class="heart-gallery" aria-label="Tromso photo collage part 2" data-gallery="tromso2">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/34.avif" aria-label="Open photo 34"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/35.avif" aria-label="Open photo 35"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/36.avif" aria-label="Open photo 36"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/37.avif" aria-label="Open photo 37"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/38.avif" aria-label="Open photo 38"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/39.avif" aria-label="Open photo 39"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/40.avif" aria-label="Open photo 40"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/41.avif" aria-label="Open photo 41"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/42.avif" aria-label="Open photo 42"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/43.avif" aria-label="Open photo 43"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/44.avif" aria-label="Open photo 44"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/45.avif" aria-label="Open photo 45"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/46.avif" aria-label="Open photo 46"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/47.avif" aria-label="Open photo 47"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/48.avif" aria-label="Open photo 48"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/49.avif" aria-label="Open photo 49"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/50.avif" aria-label="Open photo 50"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/51.avif" aria-label="Open photo 51"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/52.avif" aria-label="Open photo 52"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/53.avif" aria-label="Open photo 53"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/54.avif" aria-label="Open photo 54"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/55.avif" aria-label="Open photo 55"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/56.avif" aria-label="Open photo 56"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/57.avif" aria-label="Open photo 57"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/58.avif" aria-label="Open photo 58"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/59.avif" aria-label="Open photo 59"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/60.avif" aria-label="Open photo 60"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/61.avif" aria-label="Open photo 61"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/62.avif" aria-label="Open photo 62"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/63.avif" aria-label="Open photo 63"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/64.avif" aria-label="Open photo 64"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/65.avif" aria-label="Open photo 65"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/66.avif" aria-label="Open photo 66"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/Tromso/67.avif" aria-label="Open photo 67"></button>
  </div>
</section>

<hr />

<h2 id="madrid">Madrid</h2>

<blockquote>
  <p>Rest of my winter holidays</p>
</blockquote>

<p>Madrid is one of the most excellent cities I’ve lived so far.</p>

<section class="heart-gallery" aria-label="Madrid photo collage" data-gallery="madrid">
  <div class="heart-grid" role="list">
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/1.avif" aria-label="Open photo 1"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/2.avif" aria-label="Open photo 2"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/3.avif" aria-label="Open photo 3"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/4.avif" aria-label="Open photo 4"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/5.avif" aria-label="Open photo 5"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/6.avif" aria-label="Open photo 6"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/7.avif" aria-label="Open photo 7"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/8.avif" aria-label="Open photo 8"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/9.avif" aria-label="Open photo 9"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/10.avif" aria-label="Open photo 10"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/11.avif" aria-label="Open photo 11"></button>
    <button class="cell" type="button" data-src="/assets/2026-1-15-resources/madrid/12.avif" aria-label="Open photo 12"></button>
  </div>
</section>

<!-- Shared lightbox (reusable across multiple galleries on this page) -->
<div class="lightbox" hidden="" aria-hidden="true">
  <button class="lightbox__backdrop" type="button" aria-label="Close"></button>
  <figure class="lightbox__panel" role="dialog" aria-modal="true" aria-label="Expanded photo">
    <img class="lightbox__img" alt="" />
    <button class="lightbox__close" type="button" aria-label="Close">✕</button>
  </figure>
</div>

<style>
  /* Shared gallery styles (reusable across posts/pages) */
  .heart-gallery { max-width: 900px; margin: 0 auto; }
  .heart-grid {
    position: relative;
    width: 100%;
    height: clamp(360px, 55vw, 560px);
    border-radius: 18px;
  }

  .cell {
    width: clamp(52px, 7.5vw, 92px);
    aspect-ratio: 1 / 1;
    border: 0;
    padding: 0;
    border-radius: 14px;
    cursor: pointer;
    background: var(--img) center / cover no-repeat;
    box-shadow: 0 8px 20px rgba(0,0,0,.12);
    position: absolute;
    left: 0;
    top: 0;
    --lift: 0px;
    --scale: 1;
    --rot: 0deg;
    transform: translate(-50%, -50%) rotate(var(--rot)) translateY(var(--lift)) scale(var(--scale));
    transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
  }
  .cell:hover { --lift: -4px; box-shadow: 0 12px 28px rgba(0,0,0,.18); }
  .cell:active { --lift: 0px; --scale: .98; filter: brightness(.96); }
  .cell:focus-visible { outline: 3px solid rgba(99,102,241,.65); outline-offset: 3px; }

  .cell.off {
    display: none;
  }

  /* Lightbox */
  .lightbox {
    position: fixed;
    inset: 0;
    /* Use a very high z-index to beat theme headers/overlays */
    z-index: 2147483647;
    display: grid;
    place-items: center;
  }
  .lightbox[hidden] { display: none; }

  .lightbox__backdrop {
    position: absolute;
    inset: 0;
    border: 0;
    background: rgba(0,0,0,.6);
    cursor: zoom-out;
  }

  .lightbox__panel {
    position: relative;
    margin: 0;
    /* Bigger expanded container */
    width: min(98vw, 1400px);
    height: min(94vh, 900px);
    box-sizing: border-box;
    background: rgba(20,20,20,.92);
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 22px 70px rgba(0,0,0,.5);
    display: grid;
    place-items: center;
    transform: scale(.98);
    opacity: 0;
    transition: transform .18s ease, opacity .18s ease;
  }

  .lightbox.is-open .lightbox__panel {
    transform: scale(1);
    opacity: 1;
  }

  .lightbox__img {
    /* Keep original aspect ratio in expanded view (no cropping) */
    width: 100%;
    height: 100%;
    object-fit: contain !important;
    object-position: center;
    user-select: none;
    -webkit-user-drag: none;
    background: rgba(0,0,0,.15);
  }

  .lightbox__close {
    position: absolute;
    top: 10px;
    right: 10px;
    border: 0;
    border-radius: 12px;
    padding: 10px 12px;
    background: rgba(255,255,255,.12);
    color: #fff;
    cursor: pointer;
    font-size: 16px;
    line-height: 1;
    transition: background .12s ease, transform .12s ease;
  }
  .lightbox__close:hover { background: rgba(255,255,255,.18); }
  .lightbox__close:active { transform: scale(.98); }
  .lightbox__close:focus-visible { outline: 3px solid rgba(255,255,255,.45); outline-offset: 3px; }
</style>

<script>
  (() => {
    // Randomly scatter images in the gallery (no heart/grid shape).
    function scatterGallery(gallery) {
      const grid = gallery.querySelector(".heart-grid");
      if (!grid) return;

      const cells = Array.from(grid.querySelectorAll('.cell[data-src]'));
      if (cells.length === 0) return;

      const rect = grid.getBoundingClientRect();
      const W = rect.width;
      const H = rect.height;
      if (W < 10 || H < 10) return;

      // Basic collision-avoidance to reduce heavy overlaps.
      // Optimized: use a spatial hash so we only compare against nearby points.
      // This avoids the O(n^2) worst-case behavior when there are many photos.
      const sampleCell = cells[0];
      const cellW = Math.max(1, sampleCell.offsetWidth);
      const cellH = Math.max(1, sampleCell.offsetHeight);
      const pad = Math.max(cellW, cellH) * 0.6;
      const rangeX = Math.max(0, W - pad * 2);
      const rangeY = Math.max(0, H - pad * 2);

      const minDist = pad * 0.9;
      const minDistSq = minDist * minDist;
      const bucketSize = Math.max(1, minDist);
      const buckets = new Map();
      const maxTriesPerCell = 80;

      function bucketKey(ix, iy) {
        return `${ix},${iy}`;
      }

      function addPlacedPoint(x, y) {
        const ix = Math.floor(x / bucketSize);
        const iy = Math.floor(y / bucketSize);
        const key = bucketKey(ix, iy);
        let bucket = buckets.get(key);
        if (!bucket) {
          bucket = [];
          buckets.set(key, bucket);
        }
        bucket.push({ x, y });
      }

      function canPlaceAt(x, y) {
        const ix = Math.floor(x / bucketSize);
        const iy = Math.floor(y / bucketSize);
        for (let dx = -1; dx <= 1; dx++) {
          for (let dy = -1; dy <= 1; dy++) {
            const bucket = buckets.get(bucketKey(ix + dx, iy + dy));
            if (!bucket) continue;
            for (const p of bucket) {
              const ddx = x - p.x;
              const ddy = y - p.y;
              if (ddx * ddx + ddy * ddy < minDistSq) return false;
            }
          }
        }
        return true;
      }

      for (const [index, cell] of cells.entries()) {
        // Ensure it has a stable rotation across resizes.
        if (!cell.dataset.rot) {
          cell.dataset.rot = (Math.random() * 28 - 14).toFixed(2);
        }
        cell.style.setProperty("--rot", `${cell.dataset.rot}deg`);

        let best = null;

        // If we already have normalized coords from a prior layout pass, reuse them.
        const hasSaved = Number.isFinite(Number(cell.dataset.nx)) && Number.isFinite(Number(cell.dataset.ny));
        if (hasSaved) {
          const nx = Math.min(1, Math.max(0, Number(cell.dataset.nx)));
          const ny = Math.min(1, Math.max(0, Number(cell.dataset.ny)));
          best = {
            x: pad + nx * rangeX,
            y: pad + ny * rangeY,
          };
        } else {
          let tries = 0;
          while (tries++ < maxTriesPerCell) {
            const x = pad + Math.random() * rangeX;
            const y = pad + Math.random() * rangeY;
            if (canPlaceAt(x, y)) {
              best = { x, y };
              break;
            }
          }

          // Fall back: take something even if overlaps.
          if (!best) {
            best = {
              x: pad + Math.random() * rangeX,
              y: pad + Math.random() * rangeY,
            };
          }

          // Save normalized coords so resizing doesn't reshuffle.
          cell.dataset.nx = rangeX > 0 ? ((best.x - pad) / rangeX).toFixed(4) : "0.5";
          cell.dataset.ny = rangeY > 0 ? ((best.y - pad) / rangeY).toFixed(4) : "0.5";
        }

        cell.style.left = `${best.x}px`;
        cell.style.top = `${best.y}px`;
        cell.style.zIndex = String(10 + index);

        addPlacedPoint(best.x, best.y);
      }
    }

    function scatterAllGalleries() {
      document.querySelectorAll('.heart-gallery').forEach(scatterGallery);
    }

    // Lazy-load background images using IntersectionObserver for performance
    function setupLazyLoading() {
      const cells = document.querySelectorAll('.heart-gallery .cell[data-src]');
      
      // Fallback for browsers without IntersectionObserver
      if (!('IntersectionObserver' in window)) {
        cells.forEach(cell => {
          const src = cell.getAttribute('data-src');
          if (src) {
            cell.style.setProperty('--img', `url('${src}')`);
          }
        });
        return;
      }

      // Modern approach with IntersectionObserver
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const cell = entry.target;
            const src = cell.getAttribute('data-src');
            if (src && !cell.style.getPropertyValue('--img')) {
              cell.style.setProperty('--img', `url('${src}')`);
              observer.unobserve(cell);
            }
          }
        });
      }, {
        rootMargin: '50px', // Start loading slightly before entering viewport
        threshold: 0.01
      });

      cells.forEach(cell => observer.observe(cell));
    }

    const lightbox = document.querySelector(".lightbox");
    if (!lightbox) return;

    // Some Jekyll themes apply transforms to content containers, which can break
    // `position: fixed` (it becomes relative to the transformed ancestor).
    // Moving the lightbox to <body> ensures it truly covers the viewport.
    if (lightbox.parentElement !== document.body) {
      document.body.appendChild(lightbox);
    }

    const backdrop = lightbox.querySelector(".lightbox__backdrop");
    const closeBtn = lightbox.querySelector(".lightbox__close");
    const img = lightbox.querySelector(".lightbox__img");
    const panel = lightbox.querySelector(".lightbox__panel");

    let lastFocus = null;

    function clampToViewport(numerator, denominator, maxW, maxH) {
      // Returns { w, h } keeping ratio numerator/denominator within maxW/maxH
      const ratio = numerator / denominator;
      let w = maxW;
      let h = w / ratio;
      if (h > maxH) {
        h = maxH;
        w = h * ratio;
      }
      return { w, h };
    }

    function fitPanelToImage() {
      if (!panel || !img || !img.naturalWidth || !img.naturalHeight) return;
      const maxW = Math.floor(window.innerWidth * 0.98);
      const maxH = Math.floor(window.innerHeight * 0.94);
      const { w, h } = clampToViewport(img.naturalWidth, img.naturalHeight, maxW, maxH);
      panel.style.width = `${Math.max(320, Math.floor(w))}px`;
      panel.style.height = `${Math.max(240, Math.floor(h))}px`;
    }

    function openLightbox(src, alt = "") {
      lastFocus = document.activeElement;
      // Reset any previous sizing until we can compute the new image ratio.
      if (panel) {
        panel.style.width = "";
        panel.style.height = "";
      }

      img.src = src;
      img.alt = alt;

      // When the image loads, size the container to match its ratio.
      img.addEventListener("load", fitPanelToImage, { once: true });
      if (img.complete) fitPanelToImage();

      lightbox.hidden = false;
      lightbox.setAttribute("aria-hidden", "false");
      requestAnimationFrame(() => lightbox.classList.add("is-open"));
      closeBtn.focus();
      document.body.style.overflow = "hidden";
    }

    function closeLightbox() {
      lightbox.classList.remove("is-open");
      lightbox.setAttribute("aria-hidden", "true");
      setTimeout(() => {
        lightbox.hidden = true;
        img.removeAttribute("src");
        if (panel) {
          panel.style.width = "";
          panel.style.height = "";
        }
        document.body.style.overflow = "";
        if (lastFocus && lastFocus.focus) lastFocus.focus();
      }, 180);
    }

    window.addEventListener("resize", () => {
      if (lightbox.hidden) return;
      fitPanelToImage();
    });

    // Scatter once the page is ready, and re-apply on resize (no reshuffle).
    // Throttled to animation frames so we don't do heavy work for every resize event.
    scatterAllGalleries();
    setupLazyLoading();
    let scatterRaf = 0;
    function scheduleScatter() {
      if (scatterRaf) return;
      scatterRaf = requestAnimationFrame(() => {
        scatterRaf = 0;
        scatterAllGalleries();
      });
    }
    window.addEventListener("resize", scheduleScatter, { passive: true });

    document.addEventListener("click", (e) => {
      const cell = e.target.closest?.(".heart-gallery .cell[data-src]");
      if (!cell) return;
      const src = cell.getAttribute("data-src");
      if (!src) return;
      openLightbox(src, cell.getAttribute("aria-label") || "Expanded photo");
    });

    backdrop.addEventListener("click", closeLightbox);
    closeBtn.addEventListener("click", closeLightbox);

    document.addEventListener("keydown", (e) => {
      if (lightbox.hidden) return;
      if (e.key === "Escape") closeLightbox();
    });
  })();
</script>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="Travel" /><summary type="html"><![CDATA[Travel blogs during end of 2025 and start of 2026]]></summary></entry><entry><title type="html">End of beginning</title><link href="https://zihaofu245.me/chitchat/2025/12/19/end-of-beginning.html" rel="alternate" type="text/html" title="End of beginning" /><published>2025-12-19T00:00:00+00:00</published><updated>2025-12-19T00:00:00+00:00</updated><id>https://zihaofu245.me/chitchat/2025/12/19/end-of-beginning</id><content type="html" xml:base="https://zihaofu245.me/chitchat/2025/12/19/end-of-beginning.html"><![CDATA[<blockquote>
  <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/track/3qhlB30KknSejmIvZZLjOD?utm_source=generator" width="100%" height="200" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
  <p>A song I recently like</p>
</blockquote>

<h2 id="every-action-comes-with-an-consequence">Every Action comes with an consequence</h2>

<p>After I decided to live in the moment back in September, the consequences came quickly.
December has arrived, would
there be a miracle in the rest 11 days to save me from reality?</p>

<p>Back to todays topic, end of beginning. Why do I choose this header?</p>

<ol>
  <li>
    <p>December is my birthday month, and I turned 19, which I realized my joyful childhood
has came to an end. End of 18 years of child life, what waiting for me is the next 10 years of new era.
I little bit sad.</p>
  </li>
  <li>
    <p>From 2025 spring term, I tried so hard to improve my GPA. And after all that
hard works, I improved <strong>0.01</strong>. So I wondered, what is the necessity of studying so hard?
To fulfil my ego? Thus this term I decided to live the moment, and consequences came.
I have an answer now, to make me feel good, get a below median do hurts. End of my
experiment of living the moment. <strong>Reserve a seat for myself in library.</strong></p>
  </li>
  <li>
    <p>I am watching “Dark”, that famous show. It really inspired me of thinking about time,
and Causality. The “dark world” is really fascinating, a circled timeline. Past effects future,
and future effects past, like past and future are if and only if relationships. When is end?
When is beginning? End of beginning should be end <strong>and</strong> beginning.</p>
  </li>
</ol>

<figure style="text-align:center;">
  <img src="/assets/2025-12-19-resources/whiskey.jpg" alt="Thai food" style="width:50%;max-width:440px;display:block;margin:0 auto;" />
</figure>
<div style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Bar at coast</div>

<p>This term, I did not take too much photos. It feels like September and October slipped away
in a sudden, while November are surprisingly slow.</p>

<h2 id="what-ive-been-doing">What I’ve been doing</h2>

<h3 id="my-first-pr-contribute-to-public-repo">My first PR contribute to public repo</h3>

<p>I am making docker container support for <a href="https://github.com/cuberite/cuberite/pull/5621">cuberite</a>,
a community version of minecraft server. The server only supports up to 1.14 version of minecraft,
it is a major drawback. But in contrast to official server, it is written in C++, giving high performance
comparing to java server. It can run easily on a raspberry pi. This server is missing container shipping,
therefore I am writing one.</p>

<blockquote>
  <p>An annoying thing is the CI, MSVC build failed, but clang and g++ on ubuntu has no problem.</p>
</blockquote>

<h3 id="netcat-implemented-in-golang">Netcat implemented in Golang</h3>

<p>I am new to golang, it is used widely in network scenarios, concurrency has made go unique.
There are people already implemented netcat in golang, mine is for learning go. Here is the repo,
<a href="https://github.com/ZihaoFU245/netcat-go">netcat-go</a>. Some basic features are ready to use, while
some fancy ones, like hexdump, file sharing, is not yet ready.</p>

<p>Netcat <code class="language-plaintext highlighter-rouge">-e</code> flag in history is considered as a backdoor, which can act like a reverse shell.
<code class="language-plaintext highlighter-rouge">nc &lt;dest ip&gt; &lt;port&gt; -e /bin/bash</code>, this can act like a backdoor. 50 lines of code can make your
device insecure.</p>

<h3 id="remotely-playing-ps5">Remotely playing PS5</h3>

<p>I am thinking of a way to remotely playing PS5 in low latency. The official PS remote app
is dummy, even under a VPN which is Layer 3, it can not find PS5 machine, and traffic will be routed
through Sony’s server giving higher latency and introduce instability. If PS5 is directly exposed
in public internet, then it will be direct, but under most cases, it is behind a NAT.</p>

<p>I will be setting up PS5 in my madrid house, and use chiaki, a community PS remote application,
which support a direct ip connection. I can utilize my tailnet, to give a direct connection.</p>

<p>Inspired by this, I have bought a HDMI video capture card. Combined with a remote IR control</p>

<h2 id="what-i-gonna-do-in-winter-holiday">What I gonna do in winter holiday</h2>

<h3 id="home-lab-set-up">Home Lab Set up</h3>

<p>I will be setting up my own home lab in Madrid. A usual home lab, you could possibly think of,
require powerful CPUs or 4090s. Mine is much shallower, a raspberry pi. I small raspberry pi
with a public ipv4 can be way powerful then you think. Set up services that only used by few people,
VPNs, remote control, minecraft server (I would use an old thinkbook laptop more likely), etc.</p>

<h3 id="switch-to-linux-ubuntu">Switch to Linux (Ubuntu)</h3>

<p>I am quite tired of using windows. Windows file systems, services, powershell, cmd, etc, are
not as easy as Unix I personally believe. With the power of Wine and Proton, developed by valve,
I can play my games on Linux as well.</p>

<h3 id="traveling">Traveling</h3>

<p>Dec 22th to 25th, I will be Nice, France. Jan 1th to 8th I will go to Denmark and Norway, mainly go
to watch northern lights. By that time, I will have posted a travel blog contained my best photos.</p>

<hr />

<blockquote>
  <p>I do feel this term one reason I didn’t get good grades is because I focus on too much on my
personal hobbies</p>
</blockquote>

<blockquote>
  <p>I have decided to separate technical blogs with general chitchat blogs, with better focus.</p>
</blockquote>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="ChitChat" /><summary type="html"><![CDATA[A song I recently like]]></summary></entry><entry><title type="html">Building My Self-Hosted Digital Ecosystem :)</title><link href="https://zihaofu245.me/general/2025/11/28/infrastructure.html" rel="alternate" type="text/html" title="Building My Self-Hosted Digital Ecosystem :)" /><published>2025-11-28T00:00:00+00:00</published><updated>2025-11-28T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/11/28/infrastructure</id><content type="html" xml:base="https://zihaofu245.me/general/2025/11/28/infrastructure.html"><![CDATA[<h1 id="-november-engineering-retrospective">← November Engineering Retrospective</h1>

<blockquote>
  <p>I made significant progress through the past month. A multi-regional tailnet
has been built out successfully, and I finally understood the Tailscale ACL policy
and hardened it. Found a critical security vulnerability on my Paris node:
Docker containers bypassed UFW and exposed my Pi-hole as a public resolver.</p>
</blockquote>

<blockquote>
  <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/track/1BncfTJAWxrsxyT9culBrj?utm_source=generator" width="100%" height="200" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
  <p>This blog is too difficult for some of my readers, as it has a huge gap from last blog. If you don’t know what is
tailscale, <a href="/general/2025/10/09/tailscale.html#tailscale-intro">Check this out</a></p>
</blockquote>

<ul>
  <li><a href="#tailnet"><strong>Tailnet</strong></a></li>
  <li><a href="#container-bypassed-ufw"><strong>Container bypassed ufw</strong></a></li>
  <li><a href="#what-do-i-host-in-my-tailnet"><strong>What do I host in my tailnet?</strong></a></li>
  <li><a href="#minecraft-server-self-hosting"><strong>Minecraft server self hosting</strong></a></li>
  <li><a href="#setting-up-my-own-proxies"><strong>Review on proxy solutions</strong></a></li>
  <li><a href="#shadowsocks"><strong>Set up shadowsocks</strong></a></li>
  <li><a href="#at-last"><strong>Ending</strong></a></li>
</ul>

<h2 id="tailnet">Tailnet</h2>

<p><strong>Tailscale</strong> is one of the best choices to build a secure mesh network, connecting all
devices together. <strong>Access Control</strong> is a central topic if we are to manage many devices and users.
On this year’s Black Friday, I bought a VPS at <strong>Hostinger</strong> with 4GB of RAM, then I decided to run
it as a <strong>Minecraft</strong> server, and play with my friends. Now I finally have to face <strong>Access Control</strong> in
my tailnet. I don’t want to expose my server on public internet, so <strong>Tailscale</strong> is the best choice,
and also I don’t want any of my friends hacking around devices in it. Thus, I am changing my <strong>ACL</strong>.</p>

<p>What my ACL looked like before:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">

 </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">

 </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>which essentially grants everyone access to any devices. This works perfectly fine with a small
number of users. But, I can imagine my friends posing thousands of pings to my computer just for fun.
That is not acceptable, I changed my ACL to something like:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"autogroup:members"</span><span class="p">],</span><span class="w">

 </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="s2">"tag:gpt"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tag:hkust"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tag:relays"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tag:server"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tag:service-member"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"autogroup:internet"</span><span class="p">,</span><span class="w">
 </span><span class="p">],</span><span class="w">

 </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>This version seems to work but I tried it and got stuck on it. This was given by an LLM. I should never trust it
in the first place. What this means is granting all members access to devices with some tags, and use of exit-node.
The problem is Tailscale ACL is deny on default, I am the owner of the tailnet, owner is a member, but without
explicitly allowing owner to access, an owner or in this case admins are not granted with access.
With final fine tuning, I get:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
     </span><span class="nl">"grants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="err">//</span><span class="w"> </span><span class="err">All</span><span class="w"> </span><span class="err">members</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">peer</span><span class="w"> </span><span class="err">relays</span><span class="w"> </span><span class="err">(tag:relays)</span><span class="w">
   </span><span class="err">//</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">Tailscale</span><span class="w"> </span><span class="err">Peer</span><span class="w"> </span><span class="err">Relays</span><span class="w">
   </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"autogroup:members"</span><span class="p">],</span><span class="w">

   </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"tag:relays"</span><span class="p">],</span><span class="w">
   </span><span class="nl">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"tailscale.com/cap/relay"</span><span class="p">:</span><span class="w"> </span><span class="p">[]},</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">Members</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">

   </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tag:gpt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:hkust"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:relays"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:server"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:service-member"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:internet"</span><span class="p">,</span><span class="w">
   </span><span class="p">],</span><span class="w">

   </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">Admins</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"autogroup:admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:it-admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:network-admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:billing-admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:auditor"</span><span class="p">,</span><span class="w">
   </span><span class="p">],</span><span class="w">

   </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"autogroup:members"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:internet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autogroup:self"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:service-admin"</span><span class="p">,</span><span class="w">
   </span><span class="p">],</span><span class="w">

   </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">Owner</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"autogroup:owner"</span><span class="p">],</span><span class="w">
   </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
   </span><span class="nl">"ip"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
   </span><span class="nl">"src"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"autogroup:tagged"</span><span class="p">],</span><span class="w">

   </span><span class="nl">"dst"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tag:service-member"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:gpt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:hkust"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:relays"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tag:server"</span><span class="p">,</span><span class="w">
   </span><span class="p">],</span><span class="w">

   </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span><span class="w">
  </span><span class="p">},</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Explicit and strict.</p>

<h2 id="container-bypassed-ufw">Container bypassed ufw</h2>

<p><strong>Docker</strong> containers are a level above <strong>UFW</strong>, which means <strong>UFW</strong> cannot block public requests to my <strong>Pi-hole</strong> container.</p>

<div class="mermaid">
flowchart LR
    ext[External Client, nslookup your.vps.ip] --&gt;|UDP/TCP 53| wanIP[Host Public IP]

    subgraph Host_OS [Host Debian VPS]
        direction LR
        wanIP --&gt; kernel[Linux Kernel<br />netfilter / iptables]

        subgraph UFW [UFW default deny]
            direction LR
            ufwIn[ufw-user-input]
        end

        kernel --&gt;|Docker injects NAT rules| dockerIpt[Docker iptables<br />DOCKER-* chains]
        dockerIpt --&gt;|DNAT to 172.18.0.x:53| piholeDocker[Pi-hole Container<br />port 53]
    end

    piholeDocker --&gt;|DNS reply| ext
</div>

<p>This made my <strong>Pi-hole</strong> a public container, once I went to check the admin panel of my <strong>Pi-hole</strong>,
there are about 1700 active clients using my resolver. Lots of them are from Brazil.</p>

<figure>
 <img src="/assets/2025-11-28-resources/publicResolver.png" alt="Public resolver" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
 <figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Pi-hole is being used as a public resolver, I'm pissed</figcaption>
</figure>

<p><strong>How did I solve it?</strong>
I used a firewall, not <strong>UFW</strong>. The firewall provided by <strong>Hostinger</strong>, it is at a bigger scope and drops requests from the outside world.</p>

<h2 id="what-do-i-host-in-my-tailnet">What do I host in my tailnet?</h2>

<p>Self-hosting is so much fun. And you hold your own data.</p>

<ol>
  <li><a href="https://pi-hole.net/"><strong>Pi-hole</strong></a> A super lightweight DNS resolver, block ads in the tailnet. Takes about
30Mb with container.</li>
  <li><a href="https://karakeep.app/"><strong>Karakeep</strong></a> Bookmark everything, with AI scraping support. Most platforms support it.</li>
  <li><a href="https://uptime.kuma.pet/"><strong>Uptime-Kuma</strong></a> Fancy monitoring tool for self hosting. Notify you if your service is down.</li>
  <li><a href="https://docs.searxng.org/"><strong>SearXNG</strong></a> A privacy first search engine. I use it along the <a href="https://github.com/minbrowser/min"><strong>Min Browser</strong></a>, Min browser has a built-in support of SOCK5 protocol, which is perfect.</li>
  <li>Minecraft server self hosting, <a href="#minecraft-server-self-hosting"><strong>Read more</strong></a></li>
  <li>Proxy server self hosting, <a href="#setting-up-my-own-proxies"><strong>Read more</strong></a></li>
  <li><a href="https://nextcloud.com/"><strong>Nextcloud</strong></a></li>
</ol>

<h2 id="minecraft-server-self-hosting">Minecraft server self hosting</h2>

<p>I am using a <strong>Minecraft</strong> server container to help me easily set up the server.
<a href="https://github.com/itzg/docker-minecraft-server"><strong>Source</strong></a></p>

<blockquote>
  <p>I have not dived into the server configuration yet. I just set it up and today is Friday, I am going to test it out with my friend during weekends. Hope the server will survive under 2GB Ram.</p>
</blockquote>

<p>The above solution requires more RAM and performance. The server is in <strong>Java</strong>, I suspect its efficiency. Yesterday, I found a community <strong>Minecraft</strong> server, <a href="https://github.com/ZihaoFU245/cuberite"><strong>source</strong></a>. The link is the repo that I forked, I added <strong>Docker</strong> support for it, save you more time. The drawback is that it only supports old versions of <strong>Minecraft</strong>, 1.12.*.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">docker build -t cuberite .</code> Build the image</li>
  <li><code class="language-plaintext highlighter-rouge">docker run -d -p 25565:25565 -p 8080:8080 -v ./cuberite-data:/server --name cuberite cuberite</code> Run the container. The server is at port 25565 and admin panel at 8080. Modify <code class="language-plaintext highlighter-rouge">webadmin.ini</code> file to create an admin account and restart the container.</li>
</ol>

<h3 id="minimalist">Minimalist</h3>

<p><a href="https://github.com/ZihaoFU245/mcserver"><strong>Minimal MC server</strong></a>,
I wrote a Dockerfile along with a start shell script. Place your <strong>downloaded server.jar</strong> under that directory and build the images, and you will have a running mc server!</p>

<h2 id="setting-up-my-own-proxies">Setting up my own proxies</h2>

<p><strong>Geo Block</strong> is one of the most annoying things in the world. How to solve it? Use a proxy. Buy your own VPS and self host a proxy server can actually have many benefits:</p>

<ol>
  <li>You manage the server, data is in your hands</li>
  <li>No one is competing with you, get the whole bandwidth</li>
  <li>Can be cheaper than buying a proxy provider</li>
  <li>Secure browsing under unsafe networks</li>
</ol>

<p>Through the last few months, I’ve been researching on proxies and VPNs. The most straightforward choice is <strong>WireGuard</strong>.</p>

<blockquote>
  <p>WireGuard® is an extremely simple yet fast and modern VPN that utilizes state-of-the-art cryptography.</p>
</blockquote>

<blockquote>
  <p>“Can I just once again state my love for it and hope it gets merged soon? Maybe the code isn’t perfect, but I’ve skimmed it, and compared to the horrors that are OpenVPN and IPsec, it’s a work of art.”  Linus</p>
</blockquote>

<p>I would say the best way to use it is through <a href="https://tailscale.com/"><strong>Tailscale</strong></a>, fast, lightweight and most importantly, a mesh! This entire blog could not be done without Tailscale.</p>

<h3 id="but-at-what-cost-typical-bbc-ending">But at what cost? Typical BBC ending</h3>

<p><strong>WireGuard</strong>’s aim is simplicity and speed. It can be easily fingerprinted, under some firewall circumstances, it will be blocked or unstable.</p>

<p>I then went on further, deeper research. Later I found another tool: <a href="https://github.com/amnezia-vpn"><strong>AmneziaWG</strong></a>, can avoid <strong>DPI</strong> inspection, while retaining the speed of <strong>WireGuard</strong>. But the installation is a little complicated on a self-hosted <strong>Linux</strong> machine, which I modified a script, <a href="https://github.com/ZihaoFU245/amneziawg-install"><strong>Source</strong></a>, a fork from <a href="https://github.com/Varckin/amneziawg-install">Varkin’s script</a>. In 2025, the apt source list of <strong>Amnezia</strong>, I haven’t dived into that. But the installation script would fail for newer <strong>Linux</strong> kernel. (You can find it in the issues) That’s the motivation for modifying the script. It does not involve kernel modules, all lives under userspace. It builds the official go source code and installs it. Again, make life easier.</p>

<h3 id="what-i-also-tried">What I also tried</h3>

<p>I also tried <strong>V2Ray</strong>, <strong>Hysteria</strong> and <strong>Shadowsocks</strong>.
<strong>V2Ray</strong> and <strong>Hysteria</strong> seems to have many active users, but the setting up is rather complicated, or like <strong>Hysteria</strong>, very hard to find cross platform client GUI binaries.
I want to mention as well, all of them cannot achieve the speed as <strong>WireGuard</strong> and <strong>AmneziaWG</strong>.</p>

<p>Among them, I recommend <strong>Shadowsocks</strong> first. It has well maintained client applications for <strong>Android</strong>, <strong>Windows</strong>, <strong>Apple</strong> ecosystem. <a href="https://github.com/shadowsocks/shadowsocks-rust"><strong>Source</strong></a> <strong>Shadowsocks</strong> rust is safe and very memory efficient.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zihao@paris:~<span class="nv">$ </span>systemctl status shadowsocks
● shadowsocks.service - Shadowsocks-Rust Server
     Loaded: loaded <span class="o">(</span>/etc/systemd/system/shadowsocks.service<span class="p">;</span> enabled<span class="p">;</span> preset: enabled<span class="o">)</span>
     Active: active <span class="o">(</span>running<span class="o">)</span> since Tue 2025-11-25 06:57:32 UTC<span class="p">;</span> 3 days ago
 Invocation: c940ef97e54b45afb70755d7f219116b
   Main PID: 411417 <span class="o">(</span>ssserver<span class="o">)</span>
      Tasks: 3 <span class="o">(</span>limit: 4647<span class="o">)</span>
     Memory: 3.5M <span class="o">(</span>peak: 5.3M<span class="o">)</span>
        CPU: 795ms
     CGroup: /system.slice/shadowsocks.service
             └─411417 /usr/bin/ssserver <span class="nt">-c</span> /etc/shadowsocks/config.json
</code></pre></div></div>

<p>See the <strong>Shadowsocks</strong> server in <strong>Rust</strong>, is a memory saver. When running a wifi speed test on my device, the memory would only increase to around 10Mb.</p>

<h3 id="shadowsocks">How to set it up?</h3>

<ol>
  <li>Clone the repo, and run <code class="language-plaintext highlighter-rouge">cargo build --release</code>, use native build flag if possible, it can achieve better performance in crypto.</li>
  <li>In <code class="language-plaintext highlighter-rouge">./target/release</code> you can find the <code class="language-plaintext highlighter-rouge">ssserver</code> binary, move this to your VPS. If you build it directly on your VPS ignore this.</li>
  <li>In <code class="language-plaintext highlighter-rouge">/etc/systemd/system/</code> create a service, like this:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zihao@paris:/etc/systemd/system<span class="nv">$ </span><span class="nb">cat </span>shadowsocks.service
<span class="o">[</span>Unit]
<span class="nv">Description</span><span class="o">=</span>Shadowsocks-Rust Server
<span class="nv">After</span><span class="o">=</span>network-online.target
<span class="nv">Wants</span><span class="o">=</span>network-online.target

<span class="o">[</span>Service]
<span class="nv">Type</span><span class="o">=</span>simple
<span class="nv">User</span><span class="o">=</span>nobody
<span class="nv">Group</span><span class="o">=</span>nogroup
<span class="nv">ExecStart</span><span class="o">=</span>/usr/bin/ssserver <span class="nt">-c</span> /etc/shadowsocks/config.json
<span class="nv">Restart</span><span class="o">=</span>on-failure
<span class="nv">RestartSec</span><span class="o">=</span>3
<span class="nv">LimitNOFILE</span><span class="o">=</span>51200

<span class="o">[</span>Install]
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</code></pre></div></div>

<p>Step 4. Then make a directory <code class="language-plaintext highlighter-rouge">/etc/shadowsocks/</code> create a <code class="language-plaintext highlighter-rouge">config.json</code> file, like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zihao@paris:~<span class="nv">$ </span><span class="nb">cat</span> /etc/shadowsocks/config.json
<span class="o">{</span>
  <span class="s2">"server"</span>: <span class="s2">"0.0.0.0"</span>,
  <span class="s2">"server_port"</span>: <span class="o">{</span> Port you want to use <span class="o">}</span>,
  <span class="s2">"password"</span>: <span class="s2">"{ strong password }"</span>,
  <span class="s2">"method"</span>: <span class="s2">"chacha20-ietf-poly1305"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Recommend use <code class="language-plaintext highlighter-rouge">openssl rand -base64 30</code> to generate a strong password</p>

<p>Step 5. Start the service, with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Start the service</span>
<span class="nb">sudo </span>systemctl <span class="nb">enable</span> <span class="nt">--now</span> shadowsocks
<span class="nb">sudo </span>systemctl start shadowsocks

<span class="c"># Health check</span>
<span class="nb">sudo </span>systemctl status shadowsocks
<span class="nb">sudo </span>journalctl <span class="nt">-u</span> shadowsocks
</code></pre></div></div>

<p>Step 6. Configure on your client side. You may find the client app in shadowsocks repo.</p>

<h2 id="at-last">At Last</h2>

<p>I learned a lot during November. Also learned a lot this term. Nov 28, Friday should be the last of the fall term. I’m writing this up to conclude my fall term at 2025.</p>

<ul>
  <li>I know how to use <strong>Linux</strong></li>
  <li>Learned how to use <strong>Tailscale</strong></li>
  <li>Learned many infrastructure set up experience</li>
  <li>Learning <strong>Rust</strong> right now</li>
</ul>

<p>What I also enjoyed:</p>

<ul>
  <li>Stranger Things</li>
  <li>Wednesday</li>
  <li>La casa de papel</li>
  <li>La casa de papel: Berlin</li>
  <li>Designated Survivor</li>
</ul>

<p>Maybe I should write a review blog about all these shows.
I should remove these AI driven blog posts(: Those are in such low quality.</p>

<blockquote>
  <p>I got a new domain zihaofu245.cloud, don’t know what to serve yet. Open for ideas.</p>
</blockquote>

<blockquote>
  <p>This blog is all written by me, no LLM involved.</p>
</blockquote>

<!-- Mermaid JS (single-use) -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  mermaid.initialize({
    startOnLoad: true,
    securityLevel: "loose"  // enables <br/> in diagram labels
  });
});
</script>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="General" /><summary type="html"><![CDATA[← November Engineering Retrospective]]></summary></entry><entry><title type="html">Midterm - What I’ve Been Through?</title><link href="https://zihaofu245.me/general/2025/10/26/recent.html" rel="alternate" type="text/html" title="Midterm - What I’ve Been Through?" /><published>2025-10-26T00:00:00+00:00</published><updated>2025-10-26T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/10/26/recent</id><content type="html" xml:base="https://zihaofu245.me/general/2025/10/26/recent.html"><![CDATA[<!--
# Average Score, Relationship Problem - How Bad Can It Be?
-->
<h1 id="how-worse-can-it-be">How worse can it be?</h1>

<blockquote>
  <p>Another month since my last blog about life — and here it comes, finally. Let’s dig into that.</p>

  <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/track/3oGVx9RBmiYGv5ZCecWLkx?utm_source=generator" width="100%" height="200" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>

  <p>This song fits my mood earlier this week perfectly. Well… not quite. 🎧</p>
</blockquote>

<blockquote>
  <p>Comment from future(12/6/2025): This is such a rubbish blog. I should bury it forever</p>
</blockquote>

<hr />

<!--
## Midterms

这学期的期中实在是**过于繁忙**，三天连在一起考试。第一门 *Computer Organization* 直接就拿了 **54 分！**  
而 mean 有 62 分，不过 **anyways，我也看开了。** 只是完全没想到会有这么多的 **circuit 题目**。Final 加油！💪

然后就是 *Linear Algebra*，可以开卷，感觉是一个大大的模仿学习，边看 example 边写 😂

---

## 💔 Relationship Problem

This is something **hard** that happened to me this month... but this is a public space, and it’s too long to fit in.  
I’ll post it privately somewhere else. 🫤

<figure>
	<img src="/assets/2025-10-26-resources/coast.jpg" alt="Windy coast" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">So windy, so cold 🌬️</figcaption>
</figure>

Kinda feels like a coincidence — right after she left, the temperature suddenly dropped **below 20°C**.  
That’s why I quoted *Forever Winter* at the top — it fits both **mentally and physically**.  
But as to why I said *not quite*, it’s because the problem isn’t utterly sad.  
Somehow, I feel **a bit relieved**.

---

## ✈️ Welcome HYF Onboard HK!
-->
<h2 id="hk-have-fun">HK, have fun</h2>

<p>It’s so nice to see a friend travel so far to visit me. 💖</p>

<figure>
	<img src="/assets/2025-10-26-resources/BeefWok.jpg" alt="Thai food" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Thai food, yum! 🍛</figcaption>
</figure>

<figure>
	<img src="/assets/2025-10-26-resources/MountainTop.jpg" alt="Mountain Top" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">View of HK 🏙️</figcaption>
</figure>

<p>This was actually my <strong>second time</strong> here — the last time was about <strong>a year ago</strong>.</p>

<figure>
	<img src="/assets/2025-10-26-resources/lastyearpeek.jpeg" alt="Last year view" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Picture from last year, same place 📸</figcaption>
</figure>

<figure>
	<img src="/assets/2025-10-26-resources/MorningFromCommonRoom.jpg" alt="Common room morning" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">View from the common room that morning ☀️</figcaption>
</figure>

<p>It was such a <strong>great day</strong>, filled with fun and laughter.<br />
<strong>I really miss it.</strong></p>

<hr />

<h2 id="-一个赌约">🎲 一个赌约</h2>

<figure>
	<img src="/assets/2025-10-26-resources/haidilao.jpg" alt="Hotpot beef" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Hotpot beef tower 🥩🔥</figcaption>
</figure>

<!--
跟一个朋友打赌——**谁先分手，谁请吃饭。**  
但其实就只差了几个小时，差点赢了 😅

> 谁最喜欢、？
-->

<hr />

<h2 id="-projects">🧩 Projects</h2>

<p>I’ve upgraded my <strong>Raspberry Pi</strong> with a <strong>512GB SSD</strong>, and now it’s running <strong>Nextcloud</strong> — my very own <strong>private cloud service over Tailscale (Tailnet)</strong>.<br />
So exciting! 🚀</p>

<figure>
	<img src="/assets/2025-10-26-resources/RaspberryPiNVMe.jpg" alt="Pi server" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Raspberry Pi with a 512GB NVMe SSD ⚙️</figcaption>
</figure>

<hr />

<h2 id="️-at-last">🌫️ At Last</h2>

<p>This month has been <strong>a mix of chaos and calm</strong> — full of ups and downs.<br />
I’d describe it as <em>Grey</em>, yet sprinkled with <strong>joyful and hopeful moments</strong>.<br />
Life, after all, is still <strong>bright and good</strong>. ☀️✨</p>

<blockquote>
  <p>Update on Nov.28, I commented out some sections, not delete. I wounld not forgive myself delete 
any things from past, they are memories, alive. They just lived in another way, as comments. &lt;!—–&gt;</p>
</blockquote>

<hr />]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="General" /><summary type="html"><![CDATA[How worse can it be?]]></summary></entry><entry><title type="html">Tailscale setup experience</title><link href="https://zihaofu245.me/general/2025/10/09/tailscale.html" rel="alternate" type="text/html" title="Tailscale setup experience" /><published>2025-10-09T00:00:00+00:00</published><updated>2025-10-09T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/10/09/tailscale</id><content type="html" xml:base="https://zihaofu245.me/general/2025/10/09/tailscale.html"><![CDATA[<h1 id="start-off-private-network-with-tailscale">Start off Private Network with Tailscale</h1>

<blockquote>
  <p>It all started with a Raspberry Pi.</p>
</blockquote>

<figure>
    <img src="/assets/2025-10-09-resources/pi.png" alt="Repo" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
    <figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">My Raspberry Pi</figcaption>
</figure>

<p>After getting my hands on a Raspberry Pi, I was eager to explore its potential. Among the many projects, setting up a personal VPN with PiVPN caught my interest. The idea of having a secure and private network was fascinating.</p>

<p>However, I soon hit a roadblock. I was in Hong Kong, and my Raspberry Pi didn’t have a public IP address, a crucial requirement for PiVPN which uses WireGuard. After some head-scratching, I discovered Tailscale, and it turned out to be the perfect solution.</p>

<blockquote>
  <p>Comment on 12/6/2025: HKUST resnet do provide public ipv4 over wall jack. To be more accurate, university firewall blocks all inbounds, and 
I incorrectly believe I did not have an public ipv4.</p>
</blockquote>

<figure>
    <img src="/assets/2025-10-09-resources/tailscale.png" alt="Repo" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
    <figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">My Tailscale homepage</figcaption>
</figure>

<h2 id="tailscale-intro">What is Tailscale?</h2>

<p>Tailscale is a zero-config VPN that creates a secure network between your computers, servers, and cloud instances — even when separated by firewalls and subnets. It’s built on top of WireGuard®, which means you get the speed and security of a modern VPN protocol without the setup complexity.</p>

<p>For me, it meant I could finally connect all my devices, including my Raspberry Pi and a few cloud VMs from DigitalOcean, into a single, private “tailnet”.</p>

<h2 id="getting-started-with-tailscale">Getting Started with Tailscale</h2>

<p>Getting started with Tailscale was mostly straightforward, but I did run into a few configuration hurdles like enabling IP forwarding and disabling Generic Receive Offload (GRO) to get everything working smoothly.</p>

<p>Here’s a breakdown of how I set up my tailnet, which might help you get started as well.</p>

<blockquote>
  <p>12/6/2025: Go read the docs and health check with <code class="language-plaintext highlighter-rouge">tailscale status</code> getting started is not that hard as you think</p>
</blockquote>

<h3 id="1-installing-tailscale">1. Installing Tailscale</h3>

<p>The first step is to install Tailscale on all the devices you want to connect. Tailscale has clients for almost every operating system.</p>

<ol>
  <li><strong>Go to the Tailscale download page:</strong> <a href="https://tailscale.com/download">tailscale.com/download</a></li>
  <li><strong>Download and install the client</strong> for your OS (Linux, Windows, macOS, Android, iOS, etc.).</li>
  <li><strong>Log in:</strong> After installation, you’ll be prompted to log in with a Google, Microsoft, or GitHub account. Use the same account on all your devices to add them to the same tailnet.</li>
</ol>

<p>For my Raspberry Pi, I used the command line to install it:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-fsSL</span> https://tailscale.com/install.sh | sh
</code></pre></div></div>

<h3 id="2-advertising-a-subnet-like-a-home-network">2. Advertising a Subnet (like a home network)</h3>

<p>One of the most powerful features of Tailscale is the ability to use a device as a gateway to a whole subnet. This is what I did with my Raspberry Pi to access my home network from anywhere.</p>

<ol>
  <li><strong>Enable IP forwarding on the gateway device (e.g., your Raspberry Pi).</strong>
    <ul>
      <li>On Linux, you can do this by running:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'net.ipv4.ip_forward = 1'</span> | <span class="nb">sudo tee</span> <span class="nt">-a</span> /etc/sysctl.d/99-tailscale.conf
<span class="nb">echo</span> <span class="s1">'net.ipv6.conf.all.forwarding = 1'</span> | <span class="nb">sudo tee</span> <span class="nt">-a</span> /etc/sysctl.d/99-tailscale.conf
<span class="nb">sudo </span>sysctl <span class="nt">-p</span> /etc/sysctl.d/99-tailscale.conf
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Advertise the subnet route.</strong>
    <ul>
      <li>First, connect your device to your tailnet by running <code class="language-plaintext highlighter-rouge">sudo tailscale up</code>.</li>
      <li>Then, use the <code class="language-plaintext highlighter-rouge">tailscale set</code> command to advertise the route. You’ll need to know the IP range of your local network (e.g., <code class="language-plaintext highlighter-rouge">192.168.1.0/24</code>).
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>tailscale <span class="nb">set</span> <span class="nt">--advertise-routes</span><span class="o">=</span>192.168.1.0/24
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Approve the routes in the Tailscale admin console.</strong>
    <ul>
      <li>Go to the <a href="https://login.tailscale.com/admin/machines">Tailscale admin console</a>.</li>
      <li>You will see your device with a “Subnet routes” badge. Click on it and approve the advertised routes.</li>
    </ul>
  </li>
</ol>

<h3 id="3-using-an-exit-node">3. Using an Exit Node</h3>

<p>An exit node allows you to route all your internet traffic through another device on your tailnet. This is useful for securing your traffic on public Wi-Fi or accessing geo-restricted content. I set up one of my DigitalOcean VMs as an exit node.</p>

<ol>
  <li><strong>Advertise a device as an exit node.</strong>
    <ul>
      <li>On the device you want to be the exit node, run:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>tailscale <span class="nb">set</span> <span class="nt">--advertise-exit-node</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Approve the exit node in the admin console.</strong>
    <ul>
      <li>Go to the admin console, find the machine, and approve it as an exit node.</li>
    </ul>
  </li>
  <li><strong>Use the exit node from another device.</strong>
    <ul>
      <li>On any other device in your tailnet, you can now choose to route your traffic through the exit node. You can enable this from the Tailscale client menu.</li>
    </ul>
  </li>
</ol>

<h2 id="conclusion">Conclusion</h2>

<p>With Tailscale, I now have a secure, private network that connects my Raspberry Pi, my laptops, my phone, and my cloud servers. It’s been a game-changer for accessing my devices and services from anywhere in the world. If you’re looking for a simple and powerful way to create your own private network, I highly recommend giving Tailscale a try.</p>

<h2 id="appended-on-1262025">Appended on 12/6/2025</h2>

<p>This is roughly about 2 month later I fully experienced tailscale. What a masterpiece. 
I have spinned up several VMs and running many docker containers. First amazing thing is, tailscale
serve, no manually enter ip / machine address and ports any more. So good for self hosting. Second is
secure connect, It can securly connect 2 computers, without relays if possible, offering low latency and 
stablity. My friend in Spain, running a minecraft server on his side, and I can join his world with the magic
of tailscale. Excellent game experience and convenience. One notable replacement for this is e4mc mod for minecraft,
however it requires install mods and goes through relays.</p>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="General" /><summary type="html"><![CDATA[Start off Private Network with Tailscale]]></summary></entry><entry><title type="html">Projects: LM-Studio ToolPack / Bundle</title><link href="https://zihaofu245.me/general/2025/10/01/lms-toolpack.html" rel="alternate" type="text/html" title="Projects: LM-Studio ToolPack / Bundle" /><published>2025-10-01T00:00:00+00:00</published><updated>2025-10-01T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/10/01/lms-toolpack</id><content type="html" xml:base="https://zihaofu245.me/general/2025/10/01/lms-toolpack.html"><![CDATA[<h1 id="targeted-for-local-llm-use-mcp-tools-collection">Targeted for Local LLM use: MCP Tools Collection</h1>

<figure>
    <img src="/assets/2025-10-01-resources/teaser.png" alt="Repo" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
    <figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">LM-Studio Tool Bundle</figcaption>
</figure>

<p><a href="https://github.com/ZihaoFU245/lmstudio-toolpack"><strong>Repo Link</strong></a></p>

<h2 id="why-i-made-this">Why I made this?</h2>

<p>LM Studio requires <strong>manual</strong>, <strong>per-tool configuration</strong> for MCP tools, and currently lacks an <strong>automated</strong> or <strong>user-friendly</strong> way to set up and manage tool integrations. My project aims to address this gap by providing an <strong>easy-to-use bundle</strong> specifically designed for <strong>LM Studio users</strong>.</p>

<h2 id="more-technical-detail">More Technical Detail</h2>

<p><a href="/projects/lmstudio-toolpack/"><strong>On Project Page</strong></a></p>

<hr />

<blockquote>
  <p>October 1th, <strong>Happy Holiday!</strong></p>
</blockquote>

<h2 id="appended-on-1262025">Appended on 12/6/2025</h2>

<p>I am not keeping maintaining this repo. There are so many existing well written MCP tools. I have no point of
building wheels again. The MCP tool pack, I regarded it as a fun project, whenever I found a need of updating the code,
I will pick it up again.</p>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="General" /><summary type="html"><![CDATA[Targeted for Local LLM use: MCP Tools Collection]]></summary></entry><entry><title type="html">Recent about me, mid late Sep</title><link href="https://zihaofu245.me/general/2025/09/22/recent.html" rel="alternate" type="text/html" title="Recent about me, mid late Sep" /><published>2025-09-22T00:00:00+00:00</published><updated>2025-09-22T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/09/22/recent</id><content type="html" xml:base="https://zihaofu245.me/general/2025/09/22/recent.html"><![CDATA[<h1 id="weekly-review-what-happened">Weekly review, what happened?</h1>

<blockquote>
  <p>Another few weeks passed at HKUST. This post is continued from Sep 7th - <a href="/general/2025/09/07/first_week_uni.html">first week back in HK</a></p>
</blockquote>

<h2 id="whats-fun">What’s fun</h2>

<p>If you’ve been checking my website regularly, you might think there haven’t been any updates—no new posts, no new projects. But that’s not entirely true.</p>

<p><strong>I’ve been secretly working on something new!</strong></p>

<p>A brand new landing page — <a href="/hehehehaw">Check it out here</a></p>

<p>It’s now in great shape, with a growing collection of resources. I designed it specifically for my college friends and their needs.</p>

<p><strong>And there’s more!</strong></p>

<p>I partnered with <a href="mailto:shengwxnw@gmail.com">shengwxnw</a>, <a href="https://shengwxnw.github.io/">sergio’s Portfolio</a>, to create a <strong>network request routing service</strong>. We’re leveraging the free tier offered by <a href="https://www.cloudflare.com/">Cloudflare</a> Workers to send requests locally, with the Workers fetching URLs and returning the information to us. However, it’s not as powerful as a full <strong>VPN</strong> solution.</p>

<blockquote>
  <p>Note: Some websites have blocked visitors from Cloudflare IP addresses, which is a significant disadvantage.</p>
</blockquote>

<blockquote>
  <p>Comment at 12/6/2025: This idea is utterly naive. Albeit it is viable, the effort is huge. I soon turned into another solution,
<a href="https://github.com/m1k1o/neko">neko</a>, a virtual browser. To proxy in a browser tab, there are so many things that needs to consider. 
How to render css? How to run js? How to handle relative url? How to handle redirect? That’s why the above idea did not workout. 
The ultimate solution I found is stream the browser live. Further thinking, use rustdesk web to use computer at your home.</p>
</blockquote>

<p>You can check out our <strong>Local Connector Prototypes</strong> <a href="https://shengwxnw.github.io">here</a>.</p>

<blockquote>
  <p>The local connector has been removed now, it supposed to be a static website that served through github pages</p>
</blockquote>

<figure>
	<img src="/assets/2025-09-22-resources/pi.jpg" alt="Shopping for storm" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Raspberry Pi setup.</figcaption>
</figure>
<p>I made it a VPN / Linux server.</p>

<h2 id="whats-boring">What’s Boring</h2>

<p><strong>Assignments</strong>: Linear Algebra, Discrete math, Circuit design, UML Diagram</p>

<p>The term officially kicks off, becoming more busy</p>

<h2 id="where-i-spent-most-of-my-time">Where I spent most of my time</h2>

<p>I am watching <strong>Strangers Things</strong>, such a good one. I am now onto <strong>season 03</strong>. Jim Hopper Live!</p>

<h2 id="storm-is-coming">Storm is coming</h2>

<figure>
	<img src="/assets/2025-09-22-resources/shopping.jpg" alt="Shopping for storm" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center; font-size:0.85rem;color:#64748b;margin-top:.4rem;">Typhoon (Storm) is coming preparing for food</figcaption>
</figure>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="General" /><summary type="html"><![CDATA[Weekly review, what happened?]]></summary></entry><entry><title type="html">Git LFS with GitHub Pages: A Practical Guide</title><link href="https://zihaofu245.me/general/2025/09/12/git-lfs-guide.html" rel="alternate" type="text/html" title="Git LFS with GitHub Pages: A Practical Guide" /><published>2025-09-12T00:00:00+00:00</published><updated>2025-09-12T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/09/12/git-lfs-guide</id><content type="html" xml:base="https://zihaofu245.me/general/2025/09/12/git-lfs-guide.html"><![CDATA[<blockquote>
  <p>Written on 12th Sep 2025, after spending an afternoon figuring out how to use both Git LFS and deploy to GitHub Pages. An ultimate shortcut guide.</p>
</blockquote>

<blockquote>
  <p><strong>TL;DR: GitHub Pages does not auto-fetch Git LFS objects. You must fetch LFS files during your build/deploy step (e.g., GitHub Actions) so that the files in your publish branch (often gh-pages) are real binaries, not LFS pointer text files. Then set Settings → Pages → Build and deployment → Source: Deploy from a branch and choose your gh-pages branch.</strong></p>
</blockquote>

<figure>
	<img src="/assets/2025-09-12-resources/teaser.svg" alt="Flow: repo → Git LFS (media pointers) → gh-pages deployment with large assets tracked separately" style="width:100%;max-width:880px;display:block;margin:0 auto;" />
	<figcaption style="text-align:center;font-size:0.85rem;color:#64748b;margin-top:.4rem;">Light theme overview: keep source light, store heavy binaries via Git LFS, deploy cleanly to GitHub Pages.</figcaption>
</figure>

<h1 id="why-lfs--pages">Why LFS + Pages?</h1>

<p>GitHub Pages is great for static sites (personal sites, docs, game pages). Git LFS keeps your main repo light by storing big binaries (videos, large images, game builds) in a separate object store and committing <strong>pointers</strong> instead. The trick is deployment: Pages serves whatever is <strong>committed</strong> in the publish branch. <strong>If you push LFS pointers there, your site will show broken images.</strong> If you push the <strong>resolved binaries</strong>, it will work.</p>

<p>In this guide you’ll set up a workflow where your Pages site (often served from <code class="language-plaintext highlighter-rouge">main</code> or a dedicated <code class="language-plaintext highlighter-rouge">gh-pages</code> branch) stays lean while still referencing rich media.</p>

<h1 id="the-deployment-model">The Deployment Model</h1>

<ol>
  <li>Develop on main (or source). Track large assets with LFS.</li>
  <li>In CI (GitHub Actions), checkout with LFS so the runner downloads actual binaries.</li>
  <li>Build your site (e.g., Jekyll → _site/).</li>
  <li>Verify that the output contains no LFS pointers.</li>
  <li>Publish the built site to the gh-pages branch.</li>
  <li>In your repo, go to Settings → Pages → Build and deployment → Source: Deploy from a branch, choose Branch: gh-pages, and Save.</li>
</ol>

<h2 id="set-up-local">Set Up (Local)</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># one-time per machine</span>
git lfs <span class="nb">install</span>

<span class="c"># track intentionally (add more as needed)</span>
git lfs track <span class="s2">"*.png"</span>
git lfs track <span class="s2">"*.mp4"</span>

<span class="c"># You should see lfs pointers instead of binary </span>
<span class="nb">cat</span> .gitattributes

<span class="c"># add and push, as usual</span>
git add .gitattributes assets/hero.mp4 assets/logo@2x.png
git commit <span class="nt">-m</span> <span class="s2">"Track media via LFS"</span>
git push origin main
</code></pre></div></div>
<blockquote>
  <p>You can also directly edit <code class="language-plaintext highlighter-rouge">.gitattributes</code></p>
</blockquote>

<h2 id="ex-github-actions-workflow">Ex. GitHub Actions Workflow</h2>
<blockquote>
  <p><strong>build → push to <code class="language-plaintext highlighter-rouge">gh-pages</code></strong></p>
</blockquote>

<p>Save as <code class="language-plaintext highlighter-rouge">.github/workflows/build.yml</code></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">Build and Deploy</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">main</span> <span class="pi">]</span>
  <span class="na">workflow_dispatch</span><span class="pi">:</span>

<span class="na">permissions</span><span class="pi">:</span>
  <span class="na">contents</span><span class="pi">:</span> <span class="s">write</span>
  <span class="na">pages</span><span class="pi">:</span> <span class="s">write</span>
  <span class="na">id-token</span><span class="pi">:</span> <span class="s">write</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build-deploy</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>

    <span class="na">steps</span><span class="pi">:</span>
      <span class="c1"># Checkout code and pull LFS files</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout (with LFS)</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v4</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">lfs</span><span class="pi">:</span> <span class="kc">true</span>
          <span class="na">fetch-depth</span><span class="pi">:</span> <span class="m">0</span>

      <span class="c1"># Cache LFS objects</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Cache Git LFS objects</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/cache@v4</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">.git/lfs/objects</span>
          <span class="na">key</span><span class="pi">:</span> <span class="s">$-git-lfs-$-$</span>
          <span class="na">restore-keys</span><span class="pi">:</span> <span class="pi">|</span>
            <span class="s">$-git-lfs-$-</span>
            <span class="s">$-git-lfs-</span>

      <span class="c1"># Ensure LFS files are real (materialize)</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Ensure LFS files are real (materialize)</span>
        <span class="na">shell</span><span class="pi">:</span> <span class="s">bash</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">set -euo pipefail</span>
          <span class="s">git lfs install --local</span>
          <span class="s">git lfs fetch origin "${GITHUB_SHA}"</span>
          <span class="s">git lfs checkout</span>
          <span class="s">echo "LFS files tracked (pointer -&gt; actual):"</span>
          <span class="s">git lfs ls-files</span>

      <span class="c1"># Verify no LFS pointers in source assets</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Verify no LFS pointers in source assets</span>
        <span class="na">shell</span><span class="pi">:</span> <span class="s">bash</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">set -euo pipefail</span>
          <span class="s">if grep -RIl "version https://git-lfs.github.com/spec" assets 2&gt;/dev/null; then</span>
            <span class="s">echo "::error::Found LFS pointer(s) under assets/. 'git lfs checkout' did not materialize some files." &gt;&amp;2</span>
            <span class="s">exit 1</span>
          <span class="s">fi</span>
          <span class="s">echo "No LFS pointers in raw source assets."</span>

      <span class="c1"># Set up Ruby</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Set up Ruby</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">ruby/setup-ruby@v1</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">ruby-version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.3'</span>
          <span class="na">bundler-cache</span><span class="pi">:</span> <span class="kc">true</span>

      <span class="c1"># Build site</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build site</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">bundle exec jekyll build --trace</span>

      <span class="c1"># Deploy to gh-pages</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy to gh-pages</span>
        <span class="na">if</span><span class="pi">:</span> <span class="s">github.ref == 'refs/heads/main'</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">peaceiris/actions-gh-pages@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">github_token</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">publish_dir</span><span class="pi">:</span> <span class="s">./_site</span>
          <span class="na">publish_branch</span><span class="pi">:</span> <span class="s">gh-pages</span>
</code></pre></div></div>
<blockquote>
  <p><strong>After the first successful run</strong>: Go to Settings → Pages → Build and deployment → Source: Deploy from a branch, select gh-pages and root (or /), then Save.</p>
</blockquote>

<h1 id="what-to-notice-important-caveats">What to Notice (Important Caveats)</h1>

<ul>
  <li>
    <p><strong>Pages won’t fetch LFS for you</strong>. The build pipeline must convert pointers → binaries before publishing.</p>
  </li>
  <li>
    <p><strong>gh-pages</strong> stores real binaries. They’re not tracked by LFS after deployment; they count toward repo/Pages limits. The Pages site limit is about <strong>1 GB</strong>. If your site is heavy, consider:</p>

    <ul>
      <li>
        <p>External object storage + CDN (S3 + CloudFront, Cloudflare R2, etc.).</p>
      </li>
      <li>
        <p>Optimizing images/video (transcode, compress, lazy-load).</p>
      </li>
      <li>
        <p>Using the Pages “GitHub Actions” source (artifact-based deploy) instead of “branch” to keep heavy output out of your Git history.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>LFS quotas</strong>: Storage and bandwidth quotas apply. Monitor repo Settings → LFS.</p>
  </li>
  <li>
    <p><strong>Migrations</strong>: To move existing history into LFS, use git lfs migrate import –include=”*.mp4” (history rewrite; coordinate with teammates).</p>
  </li>
</ul>

<hr />

<h3 id="quick-faq">Quick FAQ</h3>

<p><strong>Does LFS make Pages faster?</strong> Not by itself. It just keeps your source branch light. Optimize/serve media appropriately.</p>

<p><strong>Can I keep gh-pages small?</strong> Prefer the Pages Actions source (artifact deploy) or host large media off-repo.</p>

<p><strong>Do I need extra steps for private repos?</strong> The workflow above works for both; Pages for private repos requires GitHub Pro/Team/Enterprise and appropriate visibility.</p>

<p><strong>What if I don’t use Jekyll?</strong> Replace the build step with your tool (Hugo, Docusaurus, Next static export, Eleventy, VitePress, etc.). The LFS+deploy pattern is the same.</p>

<hr />

<p><strong>Happy shipping!</strong></p>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="general" /><summary type="html"><![CDATA[Keep your GitHub Pages repository fast and lean by off‑loading big media to Git LFS. Learn the workflow, caveats, and best practices.]]></summary></entry><entry><title type="html">Life in HKUST, Week 0 out of 16</title><link href="https://zihaofu245.me/general/2025/09/07/first_week_uni.html" rel="alternate" type="text/html" title="Life in HKUST, Week 0 out of 16" /><published>2025-09-07T00:00:00+00:00</published><updated>2025-09-07T00:00:00+00:00</updated><id>https://zihaofu245.me/general/2025/09/07/first_week_uni</id><content type="html" xml:base="https://zihaofu245.me/general/2025/09/07/first_week_uni.html"><![CDATA[<script defer="" src="/assets/js/live-photo.js"></script>

<link rel="stylesheet" href="/assets/css/live-photo.css" />

<h1 id="sharing-my-firstweek-experience-at-hkust">Sharing my first‑week experience at HKUST!</h1>

<blockquote>
  <p>My very first week at HKUST — Year 2, 2025–26.</p>
</blockquote>

<p><strong>What does my desk look like after a week?</strong>
<!-- Live Photo block --></p>
<div class="live-photo" data-lp-src="/assets/2025-09-07-resources/MyDesk.mp4" data-lp-replay="click" data-lp-autoplay="true" data-lp-poster="/assets/2025-09-07-resources/MyDeskPreview.jpg">

  <!-- The still image sets the size and stays visible after playback -->
  <img class="lp-img" src="/assets/2025-09-07-resources/MyDeskPreview.jpg" alt="My Desk" width="1000" />
</div>
<p><strong>This is my desk! I stuck some photos up to decorate my desk.</strong> <a href="/general/2025/08/12/summer-ending"><strong>Photos</strong></a></p>

<div class="live-photo" data-lp-src="/assets/2025-09-07-resources/ChemLab.mp4" data-lp-replay="click" data-lp-autoplay="true" data-lp-poster="/assets/2025-09-07-resources/ChemLabPreview.jpg">

  <!-- The still image sets the size and stays visible after playback -->
  <img class="lp-img" src="/assets/2025-09-07-resources/ChemLabPreview.jpg" alt="My Desk" width="1000" />
</div>
<p><strong>Chemistry Lab Visit</strong></p>

<h2 id="academic-warmup">Academic warm‑up</h2>
<p><img src="/assets/2025-09-07-resources/Timetable.jpg" alt="Time Table" /></p>

<p><strong>I really dislike COMP3111 lab time; from 6 p.m. to 8 p.m ???</strong></p>

<h2 id="hall-ix-is-so-much-better-than-hall-4-on-every-aspect">HALL IX is so much better than HALL 4, on every aspect</h2>
<p><img src="/assets/2025-09-07-resources/Dorm.jpg" alt="Dorm" />
<img src="/assets/2025-09-07-resources/DormView.jpg" alt="Dorm View" />
<img src="/assets/2025-09-07-resources/DormView2.jpg" alt="Dorm View" /></p>

<h2 id="talking-with-my-bestie">Talking with my Bestie</h2>
<p><strong>A 12GB RTX 5070Ti can run gpt-oss soooo fast!</strong>
<img src="/assets/2025-09-07-resources/MyBestie.jpg" alt="Bestie" /></p>

<h3 id="tech-chatter">Tech chatter</h3>
<p><strong>We ended up benchmarking a lightweight open‑source model variant just for fun—turns out the 12GB buffer is enough for a surprisingly capable context window when you prune and quantize smartly.</strong></p>

<h2 id="me-at-the-mtr-metro">Me at the MTR metro</h2>
<p><img src="/assets/2025-09-07-resources/Me.jpg" alt="Me" /></p>]]></content><author><name>Zihao Fu</name><email>zihaofu12@gmail.com</email></author><category term="General" /><summary type="html"><![CDATA[Back at HKUST, new story, new life.]]></summary></entry></feed>